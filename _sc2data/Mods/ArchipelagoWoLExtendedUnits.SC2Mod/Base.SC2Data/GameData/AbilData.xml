<?xml version="1.0" encoding="utf-8"?>
<Catalog>
    <CAbilTrain id="FactoryTrain">
        <InfoArray index="Train11" Time="40">
            <Button DefaultButtonFace="WidowMine" State="Restricted"/>
            <Unit value="WidowMine"/>
        </InfoArray>
        <InfoArray index="Train12" Time="45">
            <Button DefaultButtonFace="BuildCyclone" Requirements="HaveAttachedTechLab"/>
            <Unit value="Cyclone"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilEffectInstant id="LiberatorAATarget">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="LiberatorTargetAAMorphOrderSet"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="LiberatorAAMode"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="LiberatorAGTarget">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="LiberatorTargetMorphOrderInitialSet"/>
        <Range value="9"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="LiberatorAGMode"/>
    </CAbilEffectTarget>
    <CAbilMorph id="LiberatorMorphtoAA">
        <AbilSetId value="LiberatorAA"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="LiberatorAAMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
        <CancelUnit value="Liberator"/>
        <InfoArray Unit="Liberator">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="1.5417"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Duration" value="0.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="1.5417"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="LiberatorMorphtoAG">
        <AbilSetId value="LiberatorAG"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="LiberatorAGMode"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="LiberatorAG">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
            <SectionArray index="Facing">
                <DurationArray index="Duration" value="0.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilEffectTarget id="LockOn">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <PrepEffect value="LockOnInitialAB"/>
        <Effect index="0" value="LockOnInitialSetNew"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Cost>
            <Cooldown TimeUse="6"/>
        </Cost>
        <TargetFilters value="Visible;Self,Player,Ally,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <TargetSorts>
            <SortArray value="TSThreatensCyclone"/>
            <SortArray value="AirTarget"/>
        </TargetSorts>
        <Range value="7"/>
        <Arc value="360"/>
        <AutoCastFilters value="Visible;Player,Ally,Neutral"/>
        <AutoCastRange value="7.5"/>
        <AutoCastValidatorArray value="noMarkers"/>
        <AutoCastValidatorArray value="TargetNotLockOn"/>
        <AutoCastValidatorArray value="IsNotInterceptor"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastValidatorArray value="IsNotNeuralParasited"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastValidatorArray value="IsDefensiveStructure"/>
        <!-- <AutoCastValidatorArray value="IsNotBroodlingFate"/> --><!-- Not Applicable to WoL environment -->
        <AutoCastValidatorArray value="NotLarva"/>
        <AutoCastValidatorArray value="CasterIsNotHidden"/>
        <AutoCastValidatorArray value="NotLarvaEgg"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="LockOn" Requirements="NoLockedOn"/>
        <FollowRange value="7"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="LockOnAir">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <PrepEffect value="LockOnInitialAB"/>
        <Effect index="0" value="LockOnAirInitialSet"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Cost>
            <Cooldown Link="LockOnShared" Location="Unit" TimeUse="6"/>
        </Cost>
        <TargetFilters value="Air,Visible;Self,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="7"/>
        <Arc value="360"/>
        <AutoCastFilters value="Visible;Player,Ally,Neutral"/>
        <AutoCastRange value="7"/>
        <AutoCastValidatorArray value="noMarkers"/>
        <AutoCastValidatorArray value="TargetNotLockOn"/>
        <AutoCastValidatorArray value="IsNotInterceptor"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastValidatorArray value="IsNotNeuralParasited"/>
        <AutoCastValidatorArray value="IsFlying"/>
        <!-- <AutoCastValidatorArray value="IsNotBroodlingFate"/> --><!-- Not Applicable to WoL environment -->
        <CmdButtonArray index="Execute" DefaultButtonFace="LockOnAir" Requirements="NoLockedOn"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="LockOnCancel">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="LockOnDisableAttackRB"/>
        <Flags index="Transient" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="LockOnCancel" Requirements="LockedOn"/>
    </CAbilEffectInstant>
    <CAbilTrain id="TrainStarportAdditionalUnits" parent="StarportTrain">
        <Name value="Abil/Name/TrainStarportAdditionalUnits"/>
        <InfoArray index="Train1" Time="60">
            <Charge Link="Abil/StarportTrain2"/>
            <Cooldown Link="Abil/StarportTrain2"/>
            <Button DefaultButtonFace="Liberator"/>
            <Unit index="0" value="Liberator"/>
        </InfoArray>
        <InfoArray index="Train2" Time="42">
            <Button DefaultButtonFace="ValkyrieSCBW"/>
            <Unit index="0" value="ValkyrieSCBW"/>
        </InfoArray>
        <InfoArray index="Train3" Time="0">
            <Button DefaultButtonFace="" Requirements=""/>
            <Unit index="0" removed="1"/>
        </InfoArray>
        <InfoArray index="Train4" Time="0">
            <Button DefaultButtonFace="" Requirements=""/>
            <Unit index="0" removed="1"/>
        </InfoArray>
        <InfoArray index="Train5" Time="0">
            <Button DefaultButtonFace=""/>
            <Unit index="0" removed="1"/>
        </InfoArray>
        <InfoArray index="Train6" Time="0">
            <Button DefaultButtonFace="" Requirements=""/>
            <Unit index="0" removed="1"/>
        </InfoArray>
        <InfoArray index="Train7" Time="0">
            <Button DefaultButtonFace="" Requirements=""/>
            <Unit index="0" removed="1"/>
        </InfoArray>
        <InfoArray index="Train8" Time="0">
            <Button DefaultButtonFace="" Requirements=""/>
            <Unit index="0" removed="1"/>
        </InfoArray>
        <InfoArray index="Train9">
            <Button State="Restricted"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilEffectTarget id="WidowMineAttack">
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="Smart" value="1"/>
        <Cost>
            <Cooldown TimeUse="40"/>
        </Cost>
        <TargetFilters value="Visible;Player,Ally,Neutral,Structure,Missile,Item,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="5"/>
        <RangeSlop value="0"/>
        <Arc value="360"/>
        <AutoCastFilters value="Visible;Player,Ally,Neutral,Structure,Missile,Item,Stasis,Dead,Hidden,Invulnerable,Benign"/>
        <AutoCastRange value="5"/>
        <PrepEffect value="WidowMineTargetingBeamDummy"/>
        <AutoCastValidatorArray value="NotLarvaEgg"/>
        <AutoCastValidatorArray value="IsNotNeuralParasited"/>
        <AutoCastValidatorArray value="IsNotDisguisedChangeling"/>
        <AutoCastValidatorArray value="NotHallucinationOrNotDetected"/>
        <AutoCastValidatorArray value="noMarkers"/>
        <PrepTime value="1.5"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="WidowMineAttack" Requirements="WidowMineArmed">
            <Flags index="ShowInGlossary" value="0"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilMorph id="WidowMineBurrow">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="WidowMineBurrow">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="WidowMineBurrowed" RandomDelayMax="0.25">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="3.125"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.6806"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="3.125"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="WidowMineUnburrow">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="WidowMineUnburrow">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="WidowMine" RandomDelayMax="0.25">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.125"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Duration" value="1.125"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="1.125"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
</Catalog>
